------------------------------------------------------------
-- MainScript.lua
-- Pastikan ganti URL di bawah dengan URL raw milik file Fluent_UI_Code.lua Anda!
local Fluent = loadstring(game:HttpGet("https://raw.githubusercontent.com/username/repo/branch/Fluent_UI_Code.lua"))()

------------------------------------------------------------
-- Membuat Window Fluent
------------------------------------------------------------
local Window = Fluent:CreateWindow({
    Title = "LYO HUB",
    SubTitle = "by lyofe",
    TabWidth = 160,
    Size = UDim2.fromOffset(580, 460),
    Acrylic = true,
    Theme = "Dark",
    MinimizeKey = Enum.KeyCode.LeftControl
})

------------------------------------------------------------
-- Membuat Tab
------------------------------------------------------------
local Tabs = {
    Player = Window:AddTab({ Title = "Player" }),
    BaseMover = Window:AddTab({ Title = "Base Mover" }),
    Teleporter = Window:AddTab({ Title = "Teleporter" }),
    Wood = Window:AddTab({ Title = "Wood" }),
    Item = Window:AddTab({ Title = "Item" }),
    Slot = Window:AddTab({ Title = "Slot" }),
    World = Window:AddTab({ Title = "World" }),
    Settings = Window:AddTab({ Title = "Settings" })
}

------------------------------------------------------------
-- Variabel Global (contoh)
------------------------------------------------------------
local DoStructure = false
local DoGlass = false
local DoFurniture = false
local DoRedStone = false
local DesiredOwner = ""
local GivingTo = ""
local TargetPlayer = ""
local OldWalkSpeed = 16
local Clip = true
local Noclip  -- koneksi noclip
local flySpeed = 1
local globalTargetCoords = Vector3.new(0, 0, 0)  -- untuk Wood Tab

------------------------------------------------------------
-- Stub Fungsi (ganti dengan logika asli dari script test 0,5 detik NEW.txt)
------------------------------------------------------------
-- Fungsi Toggle Fly
function toggleFly()
    local player = game.Players.LocalPlayer
    local character = player.Character
    if not character or not character:FindFirstChild("HumanoidRootPart") then return end
    local hrp = character.HumanoidRootPart
    if _G.FLYING then
        if _G.BV then _G.BV:Destroy() end
        if _G.BG then _G.BG:Destroy() end
        _G.FLYING = false
        print("Fly disabled")
    else
        _G.FLYING = true
        _G.BV = Instance.new("BodyVelocity", hrp)
        _G.BV.Velocity = Vector3.new(0,0,0)
        _G.BV.MaxForce = Vector3.new(1e5, 1e5, 1e5)
        _G.BG = Instance.new("BodyGyro", hrp)
        _G.BG.MaxTorque = Vector3.new(1e5, 1e5, 1e5)
        _G.BG.P = 1e4
        spawn(function()
            while _G.FLYING and character and character.Parent do
                local direction = Vector3.new()
                local UIS = game:GetService("UserInputService")
                if UIS:IsKeyDown(Enum.KeyCode.W) then direction = direction + workspace.CurrentCamera.CFrame.LookVector end
                if UIS:IsKeyDown(Enum.KeyCode.S) then direction = direction - workspace.CurrentCamera.CFrame.LookVector end
                if UIS:IsKeyDown(Enum.KeyCode.A) then direction = direction - workspace.CurrentCamera.CFrame.RightVector end
                if UIS:IsKeyDown(Enum.KeyCode.D) then direction = direction + workspace.CurrentCamera.CFrame.RightVector end
                _G.BV.Velocity = direction * flySpeed
                _G.BG.CFrame = workspace.CurrentCamera.CFrame
                wait()
            end
        end)
        print("Fly enabled")
    end
end

-- Fungsi Noclip dan Clip
function noclipFunc()
    Clip = false
    local function Nocl()
        local character = game.Players.LocalPlayer.Character
        if not Clip and character then
            for _, v in pairs(character:GetDescendants()) do
                if v:IsA("BasePart") and v.CanCollide then
                    v.CanCollide = false
                end
            end
        end
        wait(0.21)
    end
    Noclip = game:GetService("RunService").Stepped:Connect(Nocl)
end

function clipFunc()
    if Noclip then Noclip:Disconnect() end
    Clip = true
end

-- Fungsi Base Mover (stub)
function StartTeleportOptimized()
    print("Base Mover: Teleporting bases...")
    -- Logika teleport base dari test 0,5 detik NEW.txt disini
end

function deleteBase()
    print("Base Mover: Deleting base...")
    -- Logika delete base
end

-- Fungsi Teleporter (stub)
function teleportToPlayer(name)
    print("Teleporter: Teleporting to " .. name)
    -- Logika teleport ke pemain
end

-- Fungsi Wood Tab (stub)
function setTargetCoords()
    print("Wood: Target coordinates set")
    -- Ganti dengan logika ambil posisi target
end

function selectPlanks()
    print("Wood: Planks selected")
    -- Logika pilih plank dari PlayerModels
end

function continuousWoodTeleport(state)
    print("Wood: Continuous teleport state = " .. tostring(state))
    -- Logika auto teleport plank jika state = true
end

-- Fungsi Item Tab (stub)
function selectItems()
    print("Item: Items selected")
    -- Logika pilih item dari PlayerModels
end

function continuousItemTeleport(state)
    print("Item: Continuous teleport state = " .. tostring(state))
    -- Logika auto teleport item jika state = true
end

-- Fungsi Slot Tab (stub)
function buyFreeLand()
    print("Slot: Free land purchased")
    -- Logika pembelian free land
end

function expandLand()
    print("Slot: Land expanded")
    -- Logika expand/upgrade land
end

-- Fungsi World Tab (stub)
function removeFog()
    print("World: Fog removed")
    -- Logika remove fog
end

function setDayMode(state)
    print("World: Day mode set to " .. tostring(state))
    -- Logika set day mode
end

------------------------------------------------------------
-- Mengisi Elemen UI per Tab
------------------------------------------------------------

-- PLAYER TAB
Fluent:AddParagraph(Tabs.Player, {
    Title = "Player Info",
    Content = "Owner - lyofe#0986\nDeveloper - lyofe#0986\nDiscord: https://discord.gg/jKEgFwy68Z"
})
Fluent:AddSlider(Tabs.Player, {
    Title = "WalkSpeed",
    Callback = function(val) 
        game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = val
        print("WalkSpeed set to:", val)
    end
})
Fluent:AddSlider(Tabs.Player, {
    Title = "Fly Speed",
    Callback = function(val)
        flySpeed = val
        print("Fly Speed set to:", val)
    end
})
Fluent:AddParagraph(Tabs.Player, {
    Title = "Fly",
    Content = "Tekan Q untuk toggle Fly."
})
Fluent:AddToggle(Tabs.Player, {
    Title = "No Clip",
    Default = false,
    Callback = function(state)
        if state then
            noclipFunc()
        else
            clipFunc()
        end
    end
})
Fluent:AddInput(Tabs.Player, {
    Title = "Input",
    Default = "Default",
    Placeholder = "Masukkan teks...",
    Callback = function(text)
        print("Input:", text)
    end
})

-- BASE MOVER TAB
Fluent:AddInput(Tabs.BaseMover, {
    Title = "Base Owner",
    Default = "Username",
    Placeholder = "Masukkan base owner",
    Callback = function(txt)
        DesiredOwner = txt
        print("DesiredOwner:", txt)
    end
})
Fluent:AddInput(Tabs.BaseMover, {
    Title = "Base Receiver",
    Default = "Username",
    Placeholder = "Masukkan base receiver",
    Callback = function(txt)
        GivingTo = txt
        print("GivingTo:", txt)
    end
})
Fluent:AddButton(Tabs.BaseMover, {
    Title = "Teleport Bases",
    Callback = function()
        print("=== MULAI TELEPORT BASES ===")
        StartTeleportOptimized()
        print("=== SELESAI TELEPORT BASES ===")
    end
})
Fluent:AddButton(Tabs.BaseMover, {
    Title = "Delete Base",
    Callback = function()
        deleteBase()
    end
})

-- TELEPORTER TAB
Fluent:AddInput(Tabs.Teleporter, {
    Title = "Player to Teleport To",
    Default = "",
    Placeholder = "Masukkan nama pemain",
    Callback = function(txt)
        TargetPlayer = txt
    end
})
Fluent:AddButton(Tabs.Teleporter, {
    Title = "Teleport to Player",
    Callback = function()
        teleportToPlayer(TargetPlayer)
    end
})

-- WOOD TAB
Fluent:AddButton(Tabs.Wood, {
    Title = "Set Target Coords",
    Callback = function()
        setTargetCoords()
    end
})
Fluent:AddButton(Tabs.Wood, {
    Title = "Select Planks",
    Callback = function()
        selectPlanks()
    end
})
Fluent:AddButton(Tabs.Wood, {
    Title = "Teleport One Plank",
    Callback = function()
        print("Wood: Teleporting one plank...")
        -- Ganti dengan logika teleport satu plank
    end
})
Fluent:AddToggle(Tabs.Wood, {
    Title = "Continuous Teleport",
    Default = false,
    Callback = function(state)
        continuousWoodTeleport(state)
    end
})

-- ITEM TAB
Fluent:AddButton(Tabs.Item, {
    Title = "Select Item",
    Callback = function()
        selectItems()
    end
})
Fluent:AddButton(Tabs.Item, {
    Title = "Teleport Item",
    Callback = function()
        print("Item: Teleporting one item...")
        DragAndMoveOneItem()
    end
})
Fluent:AddToggle(Tabs.Item, {
    Title = "Continuous Teleport",
    Default = false,
    Callback = function(state)
        continuousItemTeleport(state)
    end
})

-- SLOT TAB
Fluent:AddButton(Tabs.Slot, {
    Title = "Free Land",
    Callback = function()
        buyFreeLand()
    end
})
Fluent:AddButton(Tabs.Slot, {
    Title = "Expand Land",
    Callback = function()
        expandLand()
    end
})
Fluent:AddButton(Tabs.Slot, {
    Title = "Sell Sign",
    Callback = function()
        print("Slot: Sell sign executed")
        -- Ganti dengan logika sell sign
    end
})

-- WORLD TAB
Fluent:AddButton(Tabs.World, {
    Title = "Better Graphics",
    Callback = function()
        print("World: Better Graphics activated")
        -- Ganti dengan logika better graphics
    end
})
Fluent:AddButton(Tabs.World, {
    Title = "Remove Fog",
    Callback = function()
        removeFog()
    end
})
Fluent:AddToggle(Tabs.World, {
    Title = "Day Mode",
    Default = false,
    Callback = function(state)
        setDayMode(state)
    end
})

-- SETTINGS TAB
Fluent:AddButton(Tabs.Settings, {
    Title = "Destroy GUI",
    Callback = function()
        Window.ScreenGui:Destroy()
        print("GUI destroyed!")
    end
})
Fluent:AddButton(Tabs.Settings, {
    Title = "Reset Character",
    Callback = function()
        game.Players.LocalPlayer.Character:BreakJoints()
    end
})

------------------------------------------------------------
-- SaveManager & InterfaceManager (Opsional; jika error, komentar baris BuildInterfaceSection & BuildConfigSection)
------------------------------------------------------------
local SaveManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/SaveManager.lua"))()
local InterfaceManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/InterfaceManager.lua"))()
SaveManager:SetLibrary(Fluent)
InterfaceManager:SetLibrary(Fluent)
InterfaceManager:SetFolder("LYOHUB")
SaveManager:SetFolder("LYOHUB/specific-game")
-- Jika muncul error, komentar baris di bawah ini:
-- InterfaceManager:BuildInterfaceSection(Tabs.Settings)
-- SaveManager:BuildConfigSection(Tabs.Settings)

------------------------------------------------------------
-- Notifikasi Saat Script Dimuat & Pilih Tab Pertama
------------------------------------------------------------
Fluent:Notify({
    Title = "LYO HUB Loaded!",
    Content = "Successfully loaded the script.",
    Duration = 5
})
Window:SelectTab(1)
